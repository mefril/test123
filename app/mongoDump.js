const MongoClient = require('mongodb').MongoClient;
//100 books with genres: "horror", "comedy", "detective", "adventure", "western","fanstasy"
const mockBooks = JSON.parse('[{"title":"mollit","about":"Sint minim laborum fugiat in ad tempor irure aliqua magna pariatur sunt. Dolor veniam in quis laborum in Lorem consectetur deserunt. Cillum sunt incididunt sit minim officia. Fugiat veniam sunt eu adipisicing duis magna proident occaecat ea. Mollit est nisi aliquip enim sint proident ipsum. In id non in exercitation nostrud occaecat adipisicing ipsum magna sint aliqua. Ipsum et sunt sit in quis sit reprehenderit voluptate cupidatat sunt.","genre":"detective"},{"title":"officia","about":"Dolor nostrud excepteur aute dolore velit proident labore mollit quis cupidatat amet sit. Consequat dolor adipisicing reprehenderit culpa in id laboris sint Lorem mollit sint ea in. Labore dolore nisi do ad nostrud ipsum do. Nostrud ex Lorem voluptate amet ea nulla aliquip nulla esse eiusmod dolore ut anim. Ut minim eu sit tempor.","genre":"comedy"},{"title":"amet","about":"Proident officia aute nisi excepteur id. Ad non laboris ex nisi sunt in elit dolor ea pariatur id occaecat incididunt anim. Nisi id eu qui ullamco labore deserunt nulla cillum culpa officia. Aliquip consequat excepteur duis duis do magna duis.","genre":"western"},{"title":"in","about":"Aute pariatur magna reprehenderit excepteur aliqua ipsum ipsum occaecat anim cillum. Quis fugiat exercitation voluptate eu proident consectetur eiusmod amet deserunt amet. Fugiat aliquip ipsum aute fugiat do non excepteur est et nulla commodo ullamco aute. Ea non est aliqua dolore quis magna nostrud tempor.","genre":"fanstasy"},{"title":"adipisicing","about":"Officia incididunt nostrud sunt adipisicing labore officia dolor reprehenderit proident mollit. Cillum aute proident sint sunt culpa id cillum Lorem tempor ullamco ea. Et minim ex excepteur eu dolore exercitation quis nulla consequat Lorem laboris dolor. Esse excepteur Lorem est elit enim et sint et. Aliquip veniam in deserunt amet do id cupidatat laboris. Laborum ex occaecat tempor eu officia reprehenderit deserunt laboris.","genre":"detective"},{"title":"do","about":"Adipisicing voluptate nostrud in cupidatat cillum deserunt aute quis nisi cillum sint reprehenderit labore pariatur. Lorem in reprehenderit esse excepteur duis mollit voluptate nisi ullamco proident ea. Enim duis nostrud cillum Lorem. Labore qui consectetur Lorem commodo ad ullamco ea esse est magna ut veniam.","genre":"horror"},{"title":"qui","about":"Lorem qui in sit consectetur elit ad dolor nulla id ullamco cupidatat anim. Quis consectetur ea elit reprehenderit consectetur nostrud non ea. Consequat ex adipisicing irure in. Voluptate elit ipsum consectetur cupidatat. Ea amet eu nostrud ad amet non amet excepteur officia duis voluptate laborum. Dolor ad aute ea velit mollit consequat fugiat irure irure eu. Cillum ipsum occaecat enim commodo voluptate nisi.","genre":"western"},{"title":"nisi","about":"Ullamco magna aute deserunt dolore dolore non velit labore consectetur sunt labore esse esse commodo. Est irure elit laborum elit nisi. Quis veniam mollit mollit sit ad duis. Laborum minim in magna irure. Duis esse et et do duis cupidatat adipisicing.","genre":"adventure"},{"title":"proident","about":"Labore aliquip culpa do ad officia velit pariatur dolor in fugiat. Magna irure cillum duis commodo mollit commodo ipsum adipisicing ad occaecat id pariatur. Ad tempor anim irure nostrud ullamco commodo ullamco officia veniam. Minim elit id aliqua nisi veniam consectetur esse sunt. Sunt esse pariatur amet deserunt pariatur. Culpa incididunt laboris occaecat mollit enim aute nisi exercitation. Laborum pariatur et voluptate occaecat pariatur amet Lorem.","genre":"horror"},{"title":"magna","about":"Tempor est sint laborum veniam commodo esse consectetur. Ex ea in dolore fugiat magna do nulla aute elit ex dolor mollit anim non. In nulla minim do consectetur sint aute nostrud nostrud ullamco deserunt reprehenderit laborum veniam minim. Pariatur tempor ipsum excepteur proident ut ullamco ipsum eiusmod proident. Cillum reprehenderit in occaecat incididunt exercitation sunt ad et non magna. Qui nulla qui enim laboris. Laborum velit id deserunt commodo.","genre":"fanstasy"},{"title":"commodo","about":"Do esse enim reprehenderit sunt excepteur officia eu proident cupidatat anim amet ipsum. Eiusmod commodo nisi ullamco proident et occaecat id elit et laboris sit anim magna laboris. Minim sit do non adipisicing enim est incididunt occaecat reprehenderit veniam enim tempor. Ut ea consequat ex officia incididunt sint velit qui ex ex commodo et sunt.","genre":"adventure"},{"title":"ex","about":"Cillum culpa eu enim magna. Tempor quis non amet cillum aute et est consequat anim consectetur. Nostrud cillum cupidatat sunt non minim minim elit culpa adipisicing esse Lorem. Ad qui esse incididunt exercitation qui consequat minim cillum deserunt aliqua.","genre":"adventure"},{"title":"incididunt","about":"Sit sint et consequat consequat laborum id magna cupidatat ex eiusmod esse cillum anim. Irure nulla occaecat laboris sunt ex. Sint veniam commodo aliquip laborum eu duis. Exercitation aliquip dolore irure ut voluptate occaecat consequat nostrud cillum fugiat velit proident sit adipisicing.","genre":"western"},{"title":"fugiat","about":"Esse in sint enim magna et officia consequat elit velit aliqua duis nostrud. Nulla veniam aliqua incididunt eiusmod occaecat deserunt qui sunt pariatur excepteur minim mollit officia voluptate. Eiusmod aliquip culpa veniam consectetur. Amet voluptate ipsum excepteur fugiat anim id dolore duis irure ut dolore.","genre":"adventure"},{"title":"in","about":"Do nulla mollit cillum commodo irure quis ex cillum ullamco. Laboris deserunt id ut fugiat deserunt. Tempor ad officia non dolore duis nisi cillum do eu enim ex occaecat incididunt. Ipsum ut cupidatat dolor culpa est qui ut exercitation eiusmod ex. Ipsum quis proident aliqua commodo id.","genre":"comedy"},{"title":"reprehenderit","about":"Quis et deserunt quis amet in. Mollit occaecat mollit ipsum minim ut ex aliqua est ullamco culpa mollit aute consectetur. Id nulla nostrud officia mollit.","genre":"detective"},{"title":"sint","about":"Irure sunt officia ut esse reprehenderit deserunt esse excepteur ea consectetur in ipsum sint velit. Cillum veniam adipisicing proident nostrud irure proident sit duis irure voluptate ut irure culpa. Cupidatat nulla cillum proident id officia amet ullamco. Aliqua eiusmod eu do mollit enim magna consectetur.","genre":"adventure"},{"title":"velit","about":"Est magna est aliqua labore Lorem minim enim deserunt sint minim. Irure labore sint occaecat est Lorem incididunt laboris labore est ullamco. Cillum ut fugiat commodo consequat adipisicing aliqua sint cupidatat consectetur nisi sit laboris exercitation ex. Ut excepteur exercitation enim quis ea voluptate labore ut sint esse aliqua in tempor exercitation. Excepteur dolor tempor laboris ad.","genre":"horror"},{"title":"aliqua","about":"Minim eu est dolor incididunt ut voluptate ad elit aliquip laboris Lorem laboris in. Tempor eu qui laboris proident duis ipsum minim qui laboris sunt nulla amet laborum deserunt. Commodo veniam duis non cillum eiusmod. Ex amet voluptate ad exercitation nulla ut culpa dolore commodo consequat exercitation ipsum. Nulla fugiat ut sit eiusmod commodo mollit cillum aute exercitation magna adipisicing aute.","genre":"western"},{"title":"laboris","about":"Dolore officia aliquip magna incididunt pariatur elit eiusmod tempor in occaecat amet. Mollit dolor quis reprehenderit cillum eiusmod et et et sint reprehenderit duis duis. Fugiat ipsum minim minim quis occaecat aliquip excepteur consequat eiusmod reprehenderit incididunt irure officia deserunt.","genre":"fanstasy"},{"title":"est","about":"Pariatur labore cupidatat quis cupidatat tempor ullamco consectetur ea minim. Ipsum exercitation aute ut tempor ullamco ad exercitation elit elit ex eu sint ipsum. Eu culpa in tempor sit do ea aliquip in. Cillum duis cupidatat exercitation mollit nisi consectetur ullamco velit ex dolore incididunt sit. Est in duis elit do non aute proident labore duis occaecat. Elit enim Lorem elit sit est labore minim id proident.","genre":"adventure"},{"title":"amet","about":"Nulla aliquip sint reprehenderit aute minim duis elit nostrud magna aliquip et commodo reprehenderit. Ipsum voluptate elit enim ad id mollit nisi velit eiusmod. Cillum voluptate cillum sint aliqua cillum minim. Id adipisicing nostrud labore fugiat exercitation eu officia sit dolor Lorem pariatur. Consequat ipsum irure exercitation amet. Fugiat aute ea magna nostrud labore id incididunt aliquip enim esse mollit ullamco. Est qui nostrud sunt ut est cillum est exercitation aliqua anim elit ut nulla duis.","genre":"fanstasy"},{"title":"ea","about":"Commodo cupidatat nostrud fugiat ipsum elit pariatur labore Lorem culpa ex consequat elit sint. Tempor enim occaecat ea consequat esse sint sunt aliqua veniam. Adipisicing proident magna magna dolor elit sunt anim dolor ipsum irure consectetur id. Incididunt reprehenderit ad velit velit aliquip cillum mollit amet voluptate amet non nostrud. Labore qui aliquip mollit voluptate anim ullamco sint commodo pariatur quis nulla labore ut.","genre":"western"},{"title":"sunt","about":"Proident ullamco nulla ad amet et. Commodo aute sit adipisicing laboris nostrud aute. Aliqua fugiat occaecat officia cillum officia. Irure eiusmod excepteur culpa aute dolore cupidatat incididunt duis anim velit non excepteur. Proident sunt eiusmod dolor reprehenderit duis deserunt irure consequat exercitation labore deserunt laborum quis fugiat. Nostrud officia ipsum id velit reprehenderit quis duis nisi amet cupidatat velit cupidatat. Labore non amet elit est eiusmod quis cupidatat mollit sint elit magna.","genre":"adventure"},{"title":"voluptate","about":"Aute cupidatat voluptate adipisicing anim id esse elit mollit fugiat duis nulla est occaecat Lorem. Cillum consequat aute tempor ullamco exercitation magna ea eiusmod irure elit incididunt. Consequat sit dolore labore eu reprehenderit dolore laborum ea aute aliqua. Nisi minim qui magna culpa ullamco tempor velit consectetur ullamco elit cupidatat. Tempor quis qui laborum Lorem.","genre":"comedy"},{"title":"deserunt","about":"Sint elit duis exercitation aute aute anim. Culpa ea dolore consectetur minim tempor ut. Magna ut qui ullamco sint Lorem ipsum. Consectetur nulla adipisicing pariatur nulla non officia et ipsum aliqua adipisicing non minim nisi. Qui commodo laboris consequat nisi mollit.","genre":"detective"},{"title":"duis","about":"Nisi anim culpa ullamco aliquip do mollit eu. Laboris aute tempor cillum veniam officia sint incididunt quis proident magna laborum cupidatat ipsum fugiat. Dolore exercitation magna eu mollit. Do incididunt velit sunt occaecat ullamco. Magna incididunt dolor velit quis incididunt ipsum exercitation irure excepteur occaecat elit. Sunt non culpa qui cillum est commodo dolor eiusmod aute eiusmod. Ut amet eiusmod quis tempor ullamco enim tempor esse ad enim ipsum enim laborum nisi.","genre":"western"},{"title":"sunt","about":"Irure eu ullamco cupidatat excepteur voluptate veniam dolor duis. Quis mollit nisi nostrud sit quis commodo Lorem deserunt enim mollit id culpa. Ut mollit excepteur ea non non irure duis culpa Lorem id proident exercitation.","genre":"fanstasy"},{"title":"voluptate","about":"Velit aute proident quis sit culpa ullamco laborum. Qui aliquip exercitation aliqua aliqua. Elit esse nulla ex cupidatat duis deserunt pariatur dolore laborum. Dolor non adipisicing qui laboris non minim. Aliquip Lorem sint sint consequat dolor exercitation nisi exercitation eu voluptate nostrud.","genre":"horror"},{"title":"laboris","about":"Mollit eu sint consectetur est cupidatat incididunt aute aute Lorem adipisicing labore. Nulla enim proident occaecat aute nisi ipsum. Enim consectetur sit esse elit commodo nulla velit aliqua in et ad sit dolor.","genre":"detective"},{"title":"elit","about":"Voluptate nulla ea ullamco id ut eu excepteur tempor magna cillum et aute. Enim tempor cupidatat amet id commodo mollit incididunt deserunt ex labore. Et sint consequat laborum id ut consectetur nulla sint nostrud dolore nulla.","genre":"detective"},{"title":"irure","about":"Dolore nulla occaecat incididunt id aliqua elit do adipisicing. Eu aliquip enim Lorem magna dolor Lorem qui tempor cillum pariatur laboris. Qui non sit quis in occaecat reprehenderit proident enim excepteur culpa. Voluptate deserunt consectetur culpa duis labore cillum duis magna excepteur magna do excepteur cillum minim. Ullamco nisi laborum dolor excepteur irure elit pariatur esse pariatur officia ex veniam labore aliqua.","genre":"western"},{"title":"qui","about":"Nostrud velit ea exercitation officia ex laboris veniam incididunt est veniam ea non dolor. Lorem culpa dolore non in ullamco consectetur quis sit aute commodo fugiat nulla voluptate. Ea ad nisi proident voluptate reprehenderit quis irure labore consequat eu. Excepteur culpa aute tempor et velit incididunt. Elit enim et laboris dolor. Dolor proident labore occaecat veniam officia mollit laborum. Ut amet duis aliqua amet officia id nisi aliquip magna ipsum qui.","genre":"detective"},{"title":"minim","about":"Esse pariatur dolor irure anim laboris Lorem. Esse aliquip aliqua voluptate reprehenderit Lorem sit. Labore in occaecat officia ex ullamco anim aliquip eiusmod mollit aliquip enim quis. Aliqua sint voluptate deserunt aute do non incididunt sit minim cupidatat laborum.","genre":"western"},{"title":"do","about":"Id nisi duis nisi aliqua fugiat sint exercitation ad mollit elit fugiat nulla. Laborum aute non proident cupidatat ipsum proident sint nostrud cupidatat amet. Quis consequat commodo pariatur do commodo enim laboris laboris consectetur. Sint laborum sint labore Lorem incididunt dolor dolor labore anim minim sunt ut.","genre":"western"},{"title":"velit","about":"Adipisicing velit ea quis reprehenderit. Id nostrud veniam tempor laborum nostrud do fugiat. Enim officia ullamco irure fugiat culpa esse esse enim. Ea nisi ex ad magna quis tempor commodo fugiat commodo laborum non dolore.","genre":"fanstasy"},{"title":"ut","about":"Elit dolor non in exercitation eu pariatur officia eu pariatur. Eiusmod duis mollit minim labore id eiusmod aute Lorem sit in exercitation sunt sit officia. Sit veniam esse nostrud Lorem ex officia nisi incididunt reprehenderit. Ut eu adipisicing nostrud incididunt consectetur non esse amet nostrud amet labore esse reprehenderit minim. Irure aliquip laborum fugiat aute ex exercitation proident sunt cupidatat consequat. Id dolore commodo laborum consectetur.","genre":"comedy"},{"title":"nisi","about":"Exercitation exercitation dolor id irure nulla. Tempor enim duis laboris adipisicing sint laborum cupidatat cupidatat ut eiusmod aliqua veniam. Commodo ut commodo veniam amet occaecat occaecat quis id excepteur aliquip cupidatat nostrud sit nulla. Irure consectetur minim nisi do esse deserunt cillum deserunt dolor eiusmod.","genre":"horror"},{"title":"occaecat","about":"Id consequat sint Lorem irure ad id dolor ut ea voluptate. Eiusmod duis exercitation fugiat sint occaecat. Ut occaecat aliquip id excepteur velit ea laborum exercitation incididunt. Enim amet pariatur magna nisi non quis reprehenderit. Eiusmod elit culpa in sint do nostrud nulla incididunt adipisicing sit. Ex laboris deserunt Lorem non consectetur nostrud ut id in qui nostrud.","genre":"adventure"},{"title":"id","about":"Consectetur nisi esse dolore sit non incididunt laborum proident deserunt. Qui duis eu ullamco aute eu Lorem. Amet enim Lorem excepteur incididunt irure eiusmod. Et qui nostrud labore et mollit aute aliquip fugiat velit proident. Dolor nulla aliqua dolore dolor eiusmod qui ad deserunt laborum qui laboris in reprehenderit. Veniam ad enim duis do non ut tempor proident ex aliqua amet qui.","genre":"detective"},{"title":"occaecat","about":"Dolore officia aute dolor fugiat minim cupidatat quis eu reprehenderit ipsum enim. Ad nisi aliqua sunt in nisi aliquip irure reprehenderit exercitation nostrud non excepteur Lorem. Est in sit reprehenderit occaecat officia sunt nisi dolore aute do adipisicing. Sunt nisi exercitation amet non. Mollit mollit consectetur aliqua eiusmod duis veniam dolore. Tempor aute eu quis consectetur officia officia.","genre":"horror"},{"title":"exercitation","about":"Pariatur sint aliquip consectetur excepteur in laboris aute officia sint dolore reprehenderit occaecat. Quis aliquip tempor elit cillum non consectetur duis commodo magna ullamco nisi commodo magna nisi. Esse occaecat tempor anim quis dolor commodo exercitation irure sunt duis ex laboris. Voluptate eu cillum enim elit reprehenderit aute elit dolor ut reprehenderit. Labore dolor in duis minim deserunt fugiat consequat nulla amet qui officia. Pariatur magna culpa culpa aute velit ea aute elit ad eu ad ut ut enim.","genre":"detective"},{"title":"officia","about":"Dolor qui pariatur elit tempor sunt cupidatat reprehenderit pariatur enim ipsum commodo officia. Consequat ea duis exercitation sunt amet officia laboris eiusmod consequat minim. Cillum nulla dolor eiusmod Lorem occaecat sint.","genre":"adventure"},{"title":"labore","about":"Dolore aliqua sunt tempor laborum sunt velit id. Esse fugiat esse nostrud velit officia in id sunt mollit incididunt anim quis veniam proident. Enim nisi ad aliqua mollit ipsum deserunt. Officia proident ex enim pariatur consequat eiusmod deserunt eiusmod laborum dolor quis. Reprehenderit voluptate irure labore duis.","genre":"western"},{"title":"reprehenderit","about":"Commodo magna consectetur enim adipisicing officia nulla cupidatat velit. Sit culpa eiusmod eiusmod sit. Et consequat tempor Lorem quis ut. Sunt excepteur excepteur id deserunt Lorem duis officia elit esse consectetur esse cupidatat eiusmod tempor. Aliqua commodo cupidatat aliqua quis et labore occaecat labore adipisicing pariatur. Elit nisi cillum in proident aliquip. Magna ea mollit cillum quis ut et et ea elit excepteur consectetur incididunt sint labore.","genre":"horror"},{"title":"velit","about":"Aliqua irure ex pariatur cillum non incididunt exercitation labore commodo laboris pariatur. Voluptate ipsum non adipisicing non velit. Aliquip do cupidatat quis ea ipsum velit dolor ut cillum.","genre":"fanstasy"},{"title":"anim","about":"Veniam irure minim fugiat ea amet et aute incididunt proident dolore nisi. Ex enim adipisicing laboris sunt in aliqua commodo non. Nisi quis minim est laborum ea adipisicing duis deserunt ex sint dolor anim sint. Adipisicing anim esse exercitation irure deserunt anim tempor sunt esse duis non mollit labore aliqua. Lorem non consequat laboris minim cupidatat exercitation sint excepteur eu. Aute aliqua elit ipsum sunt laboris ad ipsum cupidatat dolor ullamco deserunt cupidatat. Velit id mollit pariatur sunt ad ex sint ipsum dolore proident sunt amet cupidatat labore.","genre":"adventure"},{"title":"elit","about":"Pariatur sunt veniam Lorem elit aliquip culpa cillum laboris in. Anim ex ipsum occaecat qui dolor adipisicing ex incididunt ad laboris reprehenderit non eu eiusmod. Ex fugiat minim magna esse consequat ut nostrud labore non irure. Magna sunt cupidatat dolore dolore ut. Enim do veniam veniam mollit tempor officia quis velit tempor. Culpa elit reprehenderit id commodo in in magna deserunt.","genre":"fanstasy"},{"title":"consequat","about":"Exercitation aliquip excepteur nisi Lorem ipsum sint labore in irure do ipsum officia. Est esse qui aute deserunt officia duis. Reprehenderit fugiat adipisicing sit tempor. Quis velit nostrud pariatur esse nostrud irure consectetur.","genre":"adventure"},{"title":"eiusmod","about":"Et incididunt irure fugiat veniam nisi irure. Nulla nisi velit fugiat laboris adipisicing exercitation laboris pariatur excepteur. Aliqua consectetur cupidatat aute consequat velit tempor in enim duis mollit ea irure.","genre":"comedy"},{"title":"occaecat","about":"Quis ea incididunt officia laboris laborum ad labore ullamco sunt reprehenderit in. Consequat ad reprehenderit Lorem voluptate ullamco eiusmod cillum in qui irure ad ullamco. Sit Lorem veniam deserunt adipisicing.","genre":"comedy"},{"title":"do","about":"Deserunt ex cillum est laboris cillum. Occaecat sunt dolore tempor mollit cillum nulla. Cillum Lorem aute ut et amet. Eu non cillum consequat esse officia occaecat velit do.","genre":"comedy"},{"title":"incididunt","about":"In incididunt occaecat pariatur est tempor ea. Aliqua occaecat Lorem ad enim. Occaecat id laboris ut ad ut qui sunt qui occaecat. Eiusmod proident est id anim elit velit minim elit consequat velit ullamco exercitation amet.","genre":"adventure"},{"title":"officia","about":"Non aliqua nostrud ea deserunt elit dolor culpa culpa elit labore exercitation sunt. Occaecat eu id irure dolore cupidatat culpa. Proident magna ex cillum et eu qui cillum. Tempor ullamco consequat consequat cupidatat.","genre":"horror"},{"title":"consequat","about":"Elit mollit veniam sunt proident cupidatat eiusmod elit. Dolor dolor proident laborum excepteur in amet excepteur culpa do proident ad. Tempor nostrud commodo culpa nisi amet laborum labore excepteur. Veniam id id laborum veniam sint est consequat reprehenderit qui veniam consequat eu ipsum.","genre":"western"},{"title":"consectetur","about":"Nisi dolore minim aute tempor velit anim in aliqua nisi consequat in. Eu laborum quis ea sint ullamco duis ut do mollit veniam aliquip eu anim commodo. Esse nisi enim ea do.","genre":"fanstasy"},{"title":"tempor","about":"Tempor occaecat tempor sunt quis amet ut. Sint esse ex proident duis duis. Aliqua proident adipisicing cillum laborum sint tempor id enim laboris velit. Adipisicing adipisicing fugiat amet adipisicing est qui cupidatat velit eu. Lorem proident nisi tempor culpa minim laborum officia sunt dolor adipisicing nulla. Dolor laboris officia quis non nostrud ipsum sit irure dolor velit Lorem.","genre":"fanstasy"},{"title":"adipisicing","about":"Cillum sit nostrud eu minim exercitation minim consectetur. Ullamco laboris veniam dolore culpa minim laboris deserunt. Deserunt consequat ullamco consequat enim nostrud. Ex anim sunt tempor enim excepteur irure ullamco. Id fugiat sint mollit eiusmod minim sit irure ea. Elit aliqua consectetur voluptate do tempor. Ex ad labore ullamco proident nisi.","genre":"fanstasy"},{"title":"sint","about":"Irure culpa laboris velit voluptate dolor est esse. Labore enim aliquip non eu id. Anim minim minim anim velit magna id ea enim proident laborum commodo ipsum occaecat aliquip. Commodo amet elit aliquip duis fugiat. Ut aliquip enim dolor officia ad nostrud.","genre":"fanstasy"},{"title":"non","about":"Ad esse dolor velit aliquip tempor sunt minim fugiat ut dolor. Occaecat laboris Lorem proident pariatur. Eu eu incididunt esse duis sint eiusmod Lorem sit qui.","genre":"fanstasy"},{"title":"nostrud","about":"Sunt qui proident eiusmod mollit ipsum ea excepteur sit exercitation magna ipsum anim. Consequat ea sunt enim eu est ullamco anim incididunt aliqua aliqua ullamco qui. Dolor deserunt aute ea quis aute pariatur eu non ex incididunt nisi magna quis. Fugiat amet culpa tempor eu sit ea eiusmod nostrud do nostrud anim proident ipsum eiusmod. Et voluptate proident sit sit.","genre":"horror"},{"title":"quis","about":"Non mollit tempor ullamco eu voluptate Lorem. Id exercitation excepteur aliquip fugiat aute amet duis. Lorem commodo ullamco laborum do velit amet ea deserunt elit ea sit. Voluptate ea qui nostrud adipisicing aliqua duis sit ea mollit Lorem sint. Qui cillum amet nulla amet sit.","genre":"comedy"},{"title":"do","about":"Commodo laborum commodo nostrud magna aute deserunt deserunt duis irure. In nulla dolore anim do ad amet eu fugiat commodo qui dolore ut culpa commodo. Laborum aliquip irure consequat dolore reprehenderit commodo est magna et. Duis dolor aliquip ipsum consectetur non quis laborum adipisicing commodo sunt deserunt aliquip esse. Voluptate sunt dolore quis fugiat do Lorem cillum. Esse deserunt ullamco excepteur do. Mollit veniam id nulla tempor minim ipsum voluptate adipisicing quis incididunt excepteur amet elit ullamco.","genre":"western"},{"title":"excepteur","about":"Reprehenderit veniam eu adipisicing aliquip commodo. Est aliquip esse laboris magna. Aute laborum anim culpa magna reprehenderit veniam nisi et occaecat labore sunt eiusmod pariatur. Dolor qui deserunt reprehenderit et ex qui. Sit reprehenderit adipisicing in laboris pariatur nulla cupidatat. Quis fugiat exercitation consequat culpa.","genre":"comedy"},{"title":"proident","about":"Lorem excepteur laborum nisi commodo ipsum reprehenderit consectetur deserunt et fugiat eiusmod eu. Sint tempor laborum eu excepteur. Anim non ut cupidatat tempor dolore laborum id et sint consectetur sint pariatur. Laboris cupidatat laboris laborum esse veniam sunt id non nisi nostrud est nisi. Ea dolor non ipsum aliquip tempor laboris fugiat nulla. Dolore aliquip veniam adipisicing eu. Nostrud aliquip elit officia in dolore dolore minim adipisicing.","genre":"detective"},{"title":"sunt","about":"In aute amet pariatur ut aliqua sunt cillum ipsum Lorem fugiat amet ex magna veniam. Adipisicing ad velit exercitation occaecat occaecat sit incididunt exercitation pariatur excepteur. Duis ea velit consectetur tempor aliquip et incididunt quis est. Quis non mollit nisi qui amet esse fugiat proident magna aliquip consequat aliquip. Magna ex proident labore id ullamco aliquip ipsum fugiat ullamco anim pariatur.","genre":"adventure"},{"title":"cillum","about":"Sint cupidatat aliqua aliquip et velit Lorem nulla sint est proident ut consectetur cillum. Consequat id voluptate irure aliqua excepteur ipsum tempor amet cupidatat exercitation quis sit. Nisi ullamco enim amet reprehenderit cupidatat eu.","genre":"fanstasy"},{"title":"ut","about":"Velit elit id ipsum consectetur adipisicing pariatur ad qui consequat ut Lorem id. Sunt amet ullamco occaecat reprehenderit do sunt est voluptate do eu. Ipsum consectetur ipsum sunt enim dolore enim. Duis sunt aliquip laborum ad nostrud dolore in aliquip fugiat minim labore eu proident. Excepteur nostrud qui est esse laboris.","genre":"detective"},{"title":"incididunt","about":"Quis anim velit magna et eu. Consectetur veniam enim consectetur ea mollit officia ex. Duis ad ex qui incididunt veniam irure ad non eu occaecat dolore esse consectetur dolor. Et sunt nulla adipisicing velit elit incididunt. Dolore culpa anim cupidatat sunt occaecat qui eiusmod commodo duis magna eu nisi labore deserunt.","genre":"fanstasy"},{"title":"minim","about":"Do cillum et ea pariatur eu fugiat labore cupidatat ut qui ut culpa veniam labore. Proident nisi voluptate elit ullamco labore tempor labore. Voluptate adipisicing id nostrud ex mollit.","genre":"fanstasy"},{"title":"nisi","about":"Elit et ipsum anim laborum proident laboris tempor enim. Ullamco ex sunt aute aute commodo laboris cupidatat. Ea aliquip ex labore in est deserunt. Proident enim dolore nulla qui nisi. Cillum velit voluptate et enim pariatur ut dolore consequat ipsum id dolore ipsum consequat voluptate. Exercitation laboris officia reprehenderit Lorem ea est aute elit.","genre":"comedy"},{"title":"est","about":"Sunt ut non occaecat duis culpa minim velit do ea minim labore officia. Ex mollit duis consequat sit. Sint deserunt cupidatat duis amet qui minim dolor nostrud velit aute irure aliquip consectetur. Adipisicing velit ullamco in magna amet minim velit. Deserunt dolore sit sunt ipsum nisi commodo nisi nisi proident eiusmod deserunt mollit eu dolor.","genre":"comedy"},{"title":"anim","about":"Sit cillum pariatur fugiat aute labore. Id dolor excepteur quis aliquip veniam dolor ipsum eu eu eiusmod. Amet velit excepteur occaecat Lorem irure nostrud eu elit laborum labore sunt. Fugiat qui veniam culpa nostrud aliquip officia amet ut cupidatat excepteur aliquip consequat Lorem. Reprehenderit ut quis mollit quis consectetur exercitation sint dolor sit duis aliqua enim.","genre":"horror"},{"title":"ea","about":"Deserunt nisi proident adipisicing elit anim. Magna ea nulla excepteur occaecat adipisicing deserunt et aute voluptate magna aute dolor quis. Ad mollit ex non sit qui id ut minim fugiat est amet voluptate amet. Lorem occaecat consectetur ut magna amet sunt eu ad id. Occaecat sunt deserunt mollit mollit enim esse laborum magna eiusmod excepteur id commodo ut.","genre":"adventure"},{"title":"ex","about":"Lorem ullamco consequat laboris enim laborum incididunt cillum elit duis qui eu anim. Culpa consequat sunt voluptate ea exercitation commodo. Sit proident minim minim tempor irure laboris nisi esse in laboris. In amet nostrud amet excepteur laboris commodo ex cupidatat. Labore reprehenderit sint non reprehenderit. Dolor occaecat sint non ex quis.","genre":"fanstasy"},{"title":"ullamco","about":"Nisi mollit laboris officia nostrud. Mollit voluptate qui proident cupidatat reprehenderit occaecat. Dolor qui tempor occaecat ut cupidatat sunt culpa esse enim velit aliquip pariatur. Ad tempor eu nulla nisi sit do labore eu sint.","genre":"fanstasy"},{"title":"non","about":"Lorem consectetur aliquip fugiat id sunt minim magna ea amet velit dolor incididunt proident. Proident non duis et fugiat pariatur ea ad esse qui incididunt amet. Pariatur amet quis ipsum aliqua Lorem sunt non commodo labore irure. Velit cupidatat eiusmod enim commodo est ut. Voluptate nostrud Lorem amet ullamco. Aliqua non exercitation aute Lorem ad incididunt aute Lorem magna laborum deserunt do consectetur ea. Incididunt adipisicing adipisicing nulla id Lorem consectetur eiusmod sint voluptate irure Lorem.","genre":"fanstasy"},{"title":"laboris","about":"Mollit eu consectetur Lorem cillum laborum consequat ullamco ullamco fugiat. Irure aliqua id in minim cupidatat consequat. Elit aliqua voluptate culpa pariatur est culpa veniam. Aliquip culpa excepteur esse irure duis. Ullamco aute pariatur ad consectetur qui irure excepteur consectetur eiusmod proident nostrud et ea anim. Laborum in id veniam qui commodo duis anim irure tempor dolor dolor exercitation. Cupidatat aliquip consequat culpa voluptate pariatur anim laboris est ut est dolor.","genre":"fanstasy"},{"title":"est","about":"Ipsum sint veniam reprehenderit non cillum in amet aliquip duis deserunt culpa qui. Voluptate aliquip proident ullamco ut irure mollit eiusmod tempor aliquip labore mollit ullamco dolor elit. Adipisicing duis velit dolore non enim ipsum cupidatat aute excepteur sunt et. Adipisicing cupidatat consectetur velit qui.","genre":"detective"},{"title":"consequat","about":"Cillum minim excepteur laborum culpa eiusmod eu dolor exercitation. Voluptate anim elit nostrud laborum amet consectetur et laborum. Commodo ad pariatur dolor occaecat sunt in elit nostrud. Eiusmod do laborum voluptate enim ut minim et id. Elit deserunt aliqua excepteur exercitation dolore nisi nostrud adipisicing laborum reprehenderit ut. Incididunt amet deserunt qui pariatur minim ad nulla ea magna tempor commodo occaecat irure ea. Adipisicing exercitation pariatur ullamco proident.","genre":"western"},{"title":"sunt","about":"Pariatur dolor minim ipsum ipsum culpa voluptate exercitation proident cupidatat irure ullamco elit occaecat excepteur. Lorem magna incididunt tempor sit pariatur adipisicing nulla magna ullamco est exercitation deserunt duis irure. Officia commodo ea excepteur tempor quis deserunt esse adipisicing. Proident qui minim enim sint anim. Incididunt do adipisicing Lorem exercitation ut qui in aute occaecat deserunt veniam voluptate. Laboris incididunt occaecat ad exercitation aute amet ea.","genre":"detective"},{"title":"labore","about":"Incididunt nulla excepteur tempor qui commodo. Reprehenderit amet excepteur qui ea aute enim tempor duis adipisicing do esse. Enim aliqua nulla pariatur fugiat. Laboris incididunt ipsum nostrud non fugiat ad nisi cupidatat occaecat.","genre":"western"},{"title":"elit","about":"Non ad anim magna ea esse nisi. Adipisicing occaecat ut reprehenderit in laboris qui nisi irure Lorem minim. Voluptate voluptate irure minim ut aliqua dolor eu eiusmod ex in aute exercitation consectetur laboris.","genre":"comedy"},{"title":"fugiat","about":"Cillum tempor sunt occaecat deserunt id consectetur magna tempor minim sit do aliquip nisi. Minim sunt veniam et elit minim esse do. Dolor exercitation eiusmod Lorem eu id laboris consequat quis deserunt. Ipsum non irure ipsum commodo Lorem consectetur elit qui deserunt occaecat. Ut qui esse et cillum nostrud irure veniam excepteur ea enim fugiat ullamco.","genre":"adventure"},{"title":"dolor","about":"Commodo elit pariatur nostrud nisi pariatur aliquip excepteur nostrud sit nostrud eiusmod. Sint do esse pariatur dolor Lorem in est officia in do nulla dolor consequat. Cillum dolor dolore nisi consectetur.","genre":"fanstasy"},{"title":"deserunt","about":"Cillum nostrud voluptate voluptate minim minim enim officia qui eiusmod non amet laboris velit. Non exercitation in ad non irure pariatur magna tempor ea laboris. Eu labore ad ut qui consectetur nulla ea voluptate ut nulla sit deserunt ipsum veniam. Irure cillum ad laborum mollit. Laboris exercitation elit ad commodo velit voluptate magna officia mollit id. Ut in esse mollit est veniam mollit sint.","genre":"fanstasy"},{"title":"adipisicing","about":"Ex excepteur commodo do ipsum culpa proident aliquip. Ex cillum proident tempor irure sint nostrud ex id sit sit proident veniam incididunt id. Sint eu Lorem sit consequat irure Lorem deserunt duis magna id excepteur. Dolor anim deserunt reprehenderit ea.","genre":"adventure"},{"title":"est","about":"Lorem anim non Lorem veniam consequat enim aute cillum nisi magna exercitation tempor laborum. Mollit sint officia amet deserunt ipsum quis. Quis in eu nisi mollit aliquip ad do nisi incididunt proident commodo eu Lorem. Consequat proident minim Lorem magna magna. Cupidatat nulla aliquip commodo nulla proident. Proident adipisicing amet cupidatat sunt ut amet velit ea anim reprehenderit in in exercitation.","genre":"adventure"},{"title":"nulla","about":"Eu quis magna eu ea nulla proident id. Occaecat reprehenderit fugiat est nostrud officia et Lorem ad tempor nulla id ea. Et elit ex anim magna voluptate id minim tempor pariatur occaecat fugiat consectetur. Qui veniam ut nisi velit occaecat aliquip ex labore veniam aliquip adipisicing. Consectetur consectetur voluptate quis nostrud nisi excepteur cupidatat commodo velit. Occaecat cillum voluptate sit in ipsum nulla pariatur aliqua ut ut aute mollit officia ex.","genre":"western"},{"title":"reprehenderit","about":"Ex qui nostrud sint pariatur adipisicing sunt irure esse culpa. Reprehenderit culpa consequat consequat duis ullamco aliqua adipisicing do incididunt. Tempor quis incididunt ullamco cupidatat id. Qui occaecat laboris dolor excepteur sit nostrud. Occaecat non ut aliquip commodo labore sit.","genre":"comedy"},{"title":"magna","about":"Laboris mollit aute nulla amet eu exercitation minim. Ipsum ad duis labore reprehenderit pariatur non consectetur quis commodo pariatur esse veniam nisi Lorem. Officia minim ex officia ullamco magna pariatur tempor. Pariatur officia exercitation officia deserunt in sunt reprehenderit pariatur esse culpa enim ea consequat eiusmod.","genre":"fanstasy"},{"title":"esse","about":"Nulla laborum veniam do aliqua fugiat duis officia veniam cupidatat reprehenderit adipisicing incididunt. Lorem magna magna cupidatat sunt cillum sint est consequat. Deserunt est et officia culpa sunt dolore. Sint voluptate aute ea sunt non ullamco officia adipisicing ea mollit amet ullamco dolore. Elit ullamco adipisicing dolor in aliqua non.","genre":"detective"},{"title":"ullamco","about":"Adipisicing sint magna velit irure do minim officia officia nulla aliqua esse magna tempor irure. Occaecat proident duis sint exercitation sint enim. Aute ex quis amet consequat tempor velit proident proident voluptate excepteur nulla commodo est laborum. Ipsum qui laborum irure in nulla. Cupidatat ea sit non excepteur aliquip qui ea veniam dolor nostrud pariatur. Eu ut nisi id do officia sint sunt sit do nostrud ipsum nulla.","genre":"adventure"},{"title":"esse","about":"Lorem aliquip Lorem id magna non culpa Lorem exercitation. Sint velit voluptate consequat exercitation voluptate enim. Laboris cupidatat id sunt occaecat veniam.","genre":"detective"},{"title":"minim","about":"Deserunt dolore nostrud non esse sint voluptate magna elit officia nisi. Laboris eiusmod pariatur adipisicing excepteur. Labore voluptate elit est deserunt. Duis qui culpa commodo cupidatat elit sunt qui laboris.","genre":"horror"},{"title":"ullamco","about":"Ipsum deserunt non consectetur proident esse ex id esse aliqua ad id pariatur proident tempor. Sunt est voluptate aliqua ullamco irure fugiat qui do occaecat enim aute reprehenderit ipsum qui. Dolor voluptate voluptate eiusmod aute nisi exercitation magna irure cillum consequat. Reprehenderit et et sit aliqua pariatur pariatur eu exercitation nostrud amet eiusmod. Qui irure cupidatat laboris culpa elit velit in mollit. Commodo amet excepteur sunt tempor deserunt eiusmod do proident nostrud. Amet in veniam culpa ullamco voluptate fugiat nostrud tempor nulla non velit aute.","genre":"adventure"},{"title":"dolore","about":"Ipsum elit et adipisicing fugiat culpa tempor. Esse minim nulla pariatur nostrud incididunt esse aute. Irure fugiat duis nostrud aliquip commodo aute esse sit labore consectetur esse voluptate. Sint exercitation irure dolor dolor laboris consectetur in aliqua dolore pariatur deserunt cupidatat laborum consectetur. Elit elit duis Lorem quis et. Ad duis sit laboris est labore occaecat. Ea et id et mollit aute irure reprehenderit nisi elit sit velit.","genre":"adventure"},{"title":"culpa","about":"Incididunt anim sit commodo elit tempor fugiat voluptate. Cupidatat et enim tempor esse non ad velit sint elit sunt. Eu consequat aliqua dolor enim amet veniam excepteur id nulla. Tempor officia proident Lorem ex laborum quis et ex eiusmod cupidatat do sunt quis laborum. Magna aliqua nulla amet officia quis et cillum consectetur fugiat aliqua minim reprehenderit. Lorem quis deserunt tempor nostrud nulla. Ea qui dolore incididunt dolor magna laborum dolor aute cupidatat.","genre":"fanstasy"},{"title":"velit","about":"Quis cillum do magna quis aute proident proident et nostrud sint aliquip. Consequat duis velit eu ut excepteur duis do voluptate cupidatat. Et incididunt excepteur qui elit occaecat laborum ipsum nisi dolor cillum enim officia aliqua enim. Aliqua exercitation et deserunt culpa est.","genre":"detective"},{"title":"ea","about":"Nostrud ad dolor excepteur eu amet sunt. Velit adipisicing amet duis culpa cillum sunt eiusmod quis non ullamco proident. Tempor irure enim culpa tempor consectetur adipisicing eu aliquip. Nisi voluptate veniam deserunt consequat mollit. Culpa mollit occaecat minim reprehenderit qui officia dolore amet ad incididunt. Dolore qui esse nulla id magna mollit ipsum. Adipisicing consectetur ex aute irure reprehenderit adipisicing.","genre":"western"}]');
const mockAuthors = JSON.parse('[{"name":"Corina Moore","about":"Deserunt non duis sint proident in excepteur dolor. Fugiat in tempor eu sit ex culpa deserunt labore proident occaecat eu. Id do aliqua eiusmod consectetur consectetur nulla nulla occaecat aliquip labore nostrud cupidatat laborum sint. Cillum sunt aute non anim consequat amet. Sunt aute consectetur et non exercitation fugiat exercitation Lorem dolore amet sit. Culpa do sint fugiat mollit tempor officia ut officia consectetur culpa aliqua. Deserunt aliqua dolor fugiat ad ad labore dolor commodo."},{"name":"Todd Morgan","about":"Adipisicing incididunt adipisicing non est anim aliquip excepteur. Velit excepteur exercitation pariatur tempor velit eu aliqua esse. Deserunt sint sit excepteur reprehenderit."},{"name":"Vilma Buchanan","about":"Laboris et proident sunt labore deserunt deserunt ea velit nostrud magna enim. Incididunt consequat consequat anim dolore proident magna sint laborum id voluptate eiusmod. Minim aliquip anim et commodo nostrud elit ipsum id cupidatat qui labore commodo reprehenderit eiusmod. Pariatur excepteur qui ea sit dolore aute culpa aute sint velit excepteur."},{"name":"Jodi Bennett","about":"Consectetur labore esse esse eu qui et Lorem proident dolor pariatur culpa cupidatat ea. Elit pariatur cupidatat irure exercitation irure elit est esse elit nulla aliquip magna do. Proident officia incididunt aliqua aliquip. Duis cupidatat velit est commodo pariatur mollit minim sunt. Ex eu non nulla do. Id sunt sit aliqua adipisicing. Sunt exercitation Lorem voluptate nostrud minim quis duis consequat aliqua deserunt ullamco magna."},{"name":"Sanders Burris","about":"Lorem dolor adipisicing veniam reprehenderit ullamco incididunt non veniam do et. Aliqua eu ullamco eu culpa quis voluptate sint culpa ea tempor eiusmod eu eu. Ad nulla consequat proident est sit ipsum ex nulla nostrud ut excepteur laborum ad. Pariatur ipsum nostrud quis dolor ullamco id Lorem commodo qui ipsum tempor quis consequat. Esse culpa voluptate proident pariatur ipsum Lorem sint culpa ullamco ad enim."},{"name":"Chasity Snider","about":"Duis ullamco reprehenderit Lorem adipisicing laboris. Esse esse deserunt eu exercitation exercitation sit nostrud fugiat et dolor aute consequat reprehenderit exercitation. Enim eiusmod cupidatat excepteur aliquip id elit consequat velit minim laboris adipisicing. Non sit quis occaecat sunt consequat cillum nulla officia ad. In eiusmod occaecat pariatur ullamco commodo consectetur. Officia dolore voluptate dolor ad do commodo officia minim dolor elit."},{"name":"Della Pearson","about":"Consequat proident aliqua eiusmod cillum tempor velit nisi aute cupidatat non voluptate deserunt. Dolor minim ex dolore veniam. Ipsum est esse id culpa voluptate sit sunt ut exercitation. Culpa amet irure minim irure. Magna incididunt laboris quis pariatur nisi eiusmod. Elit sunt Lorem eiusmod cillum culpa in est non elit magna ea eiusmod do."},{"name":"Paula Lee","about":"Consequat ea ea veniam minim amet duis qui aliquip ex sint. Ipsum irure qui velit dolor cillum amet deserunt eu aliquip. Cillum cupidatat irure reprehenderit officia velit. In ipsum ullamco fugiat sit est quis tempor reprehenderit ipsum. Ea duis aliqua ullamco dolor dolor qui occaecat laboris ea dolor aute sint culpa eiusmod. Consectetur tempor laboris velit duis magna sint laboris deserunt esse esse magna nisi."},{"name":"Pugh Vang","about":"Et enim sit voluptate adipisicing do magna in aute ut ut laboris. Id ad minim proident reprehenderit eiusmod aliqua consequat quis. Amet enim esse labore in anim veniam nostrud sit et. Lorem incididunt dolore nisi eu officia nulla occaecat consectetur."},{"name":"Mccoy Gilmore","about":"Mollit aliqua ad ut pariatur in excepteur magna id qui commodo aute labore duis. Et consectetur dolore fugiat nostrud proident magna amet. Nostrud do ad velit duis. Non ullamco irure officia do."},{"name":"Randall Carpenter","about":"Pariatur sint laborum nulla ea cillum. In aute in culpa laboris fugiat adipisicing cupidatat non sunt Lorem culpa. Pariatur Lorem minim et nisi magna ut tempor velit eiusmod duis culpa do dolor sit."},{"name":"Hahn Washington","about":"Dolor aliqua mollit magna exercitation aliqua dolore. Id est esse id amet incididunt Lorem nulla. Sunt laborum aute nostrud fugiat velit aliquip. Adipisicing do nulla nisi voluptate aute pariatur mollit ut proident consectetur et. Veniam eiusmod minim nulla tempor voluptate esse officia adipisicing nostrud amet consequat minim velit. Magna minim reprehenderit velit officia. Laborum ex qui do ut culpa excepteur occaecat duis ipsum tempor pariatur nulla."},{"name":"Castro George","about":"Minim ex aliqua commodo eu. Ut et tempor ea ut sunt mollit dolor. Ipsum ex ad magna ex ad laborum deserunt exercitation sunt esse nostrud aute. Non qui esse sit cupidatat ex anim anim esse pariatur sint nisi tempor voluptate proident."},{"name":"Tyson Michael","about":"Ea reprehenderit mollit tempor pariatur aliquip eu veniam laborum eiusmod voluptate dolor pariatur pariatur. Deserunt consequat ut id quis culpa irure velit est reprehenderit in deserunt id. Incididunt mollit reprehenderit qui ea laboris officia cupidatat esse. Aute aliquip quis adipisicing laboris."},{"name":"Caldwell Eaton","about":"Voluptate amet dolor nulla magna sint est pariatur tempor sunt. Fugiat sint irure veniam nostrud quis laborum magna quis duis magna nisi. Non nulla est eu qui laboris cupidatat elit ad."},{"name":"Barry Gill","about":"Occaecat minim labore sit id ullamco ipsum nostrud pariatur pariatur proident commodo ad et. Officia eiusmod duis labore non veniam voluptate laborum eu eu eiusmod labore do commodo. Eiusmod et nisi proident exercitation ullamco velit."},{"name":"Magdalena Simmons","about":"Nulla ad labore aliquip ad Lorem aute. Dolor exercitation aute veniam non mollit ea cillum excepteur dolor reprehenderit. Adipisicing nostrud et laboris dolore excepteur consequat consequat non anim duis exercitation aliqua reprehenderit labore. Ea adipisicing ex officia ipsum sunt in veniam ipsum ipsum ea do esse aliquip. Magna ut labore consequat fugiat adipisicing incididunt."},{"name":"Lowe Reeves","about":"Cillum amet nisi eiusmod ipsum tempor dolore voluptate. Quis cupidatat et do aute velit duis cillum. Ullamco id minim ut ipsum ea. Nulla nostrud ipsum fugiat velit cillum nostrud consectetur fugiat deserunt commodo exercitation id in ea. Officia consectetur cupidatat reprehenderit mollit tempor adipisicing."},{"name":"Lawanda Rodgers","about":"Labore adipisicing sit aliqua fugiat dolor est amet ea sit laborum id incididunt. Incididunt aliquip id nisi aliqua magna eiusmod cupidatat sint occaecat dolor ex officia exercitation. Id ad anim duis tempor incididunt commodo reprehenderit labore occaecat fugiat. Fugiat ex eu reprehenderit ad. Do sint cillum quis magna nisi aliqua. Et cillum duis ut Lorem laboris voluptate. Quis proident pariatur officia officia magna."},{"name":"Lelia Waters","about":"Aliqua officia cupidatat ipsum est aute esse deserunt nisi. Ipsum fugiat proident nulla laboris occaecat est. Et fugiat consectetur anim ipsum sit ad eiusmod ut adipisicing anim dolore elit incididunt ad. Quis tempor duis cillum dolore aute sit ea veniam ex qui eu occaecat aliquip occaecat. Do tempor do culpa aliqua aute do commodo quis consectetur occaecat cillum aute. Aliqua Lorem ex consectetur excepteur aliquip cillum excepteur et tempor reprehenderit eu laborum."}]');
const _ = require('lodash');

const MAX_BOOKS_PER_AUTHOR = 10;

MongoClient.connect('mongodb://127.0.0.1:27017/library', function (err, db) {
    if (err) throw err;
    console.log('Connected to library DB');
    let authorsCollection = db.collection('author');
    let bookCollection = db.collection('book');
    let authorBookCollection = db.collection('authorBook');
    let removePromise = Promise.all([
        authorBookCollection.remove(),
        bookCollection.remove(),
        authorsCollection.remove()]
    );
    removePromise.then(()=> {
        let bookPromise = new Promise((resolve, reject)=> {
            bookCollection.insertMany(mockBooks, (err, result)=> {
                if (err) {
                    reject(err);
                } else {
                    resolve(result);
                }
            })
        });

        let authorsPromise = new Promise((resolve, reject)=> {
            authorsCollection.insertMany(mockAuthors, (err, result)=> {
                if (err) {
                    reject(err);
                } else {
                    resolve(result);
                }
            })
        });
        return Promise.all([authorsPromise, bookPromise]);
    }).then(()=> {
        console.log('authors and books Inserted');
        let getAuthorsPromise = new Promise((resolve, reject)=> {
            authorsCollection.find().toArray((err, result)=> {
                if (err) {
                    reject(err);
                } else {
                    resolve(result);
                }
            })
        });
        let getBooksPromise = new Promise((resolve, reject)=> {
            bookCollection.find().toArray((err, result)=> {
                if (err) {
                    reject(err);
                } else {
                    resolve(result);
                }
            })
        });
        return Promise.all([getAuthorsPromise, getBooksPromise]);
    }).then((result)=> {
        console.log('authors and books loaded');
        let authors = result[0];
        let books = result[1];
        let authorBookArray = [];
        for (let i = 0, length = authors.length; i < length; i++) {
            let author = authors[i];
            let booksForAuthor = Math.ceil(Math.random() * MAX_BOOKS_PER_AUTHOR);
            for (let j = 0, lengthJ = booksForAuthor; j < lengthJ; j++) {
                let bookIndex = Math.floor(Math.random() * books.length);
                let book = books[bookIndex];
                authorBookArray.push({authorId: author._id, bookId: book._id});
            }
        }
        for (let i = 0, length = books.length; i < length; i++) {
            let book = books[i];
            if (!_.find(authorBookArray, {bookId: book._id})) {
                let authorIndex = Math.floor(Math.random() * authors.length);
                let author = authors[authorIndex];
                authorBookArray.push({authorId: author._id, bookId: book._id})
            }
        }
        authorBookArray = _.uniqWith(authorBookArray, (ent1, ent2)=> {
            return ent1.authorId === ent2.authorId && ent1.bookId === ent2.bookId;
        });
        authorBookCollection.insertMany(authorBookArray,(err)=>{
            if(err){
                throw err;
            }
            console.log('authorBookCollection Inserted');
            process.exit(0);
        });
    });
    // collection.find().toArray((err,result)=>{
    //     console.log(result)
    // });
});
